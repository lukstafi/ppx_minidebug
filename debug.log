File "test/test_debug_interrupts.expected.ml", line 1, characters 0-0:
diff --git a/_build/default/test/test_debug_interrupts.expected.ml b/_build/default/test/test_debug_interrupts.actual.ml
index 72216e2..9030d1c 100644
--- a/_build/default/test/test_debug_interrupts.expected.ml
+++ b/_build/default/test/test_debug_interrupts.actual.ml
@@ -1,6 +1,7 @@
 module Debug_runtime = (Minidebug_runtime.Flushing)((val
   Minidebug_runtime.debug_ch "debugger_show_interrupts.log"))
-include struct  end
+;;Debug_runtime.max_nesting_depth := (Some 5);
+  Debug_runtime.max_num_children := (Some 10)
 let rec loop_exceeded (x : int) =
   (let __entry_id = Debug_runtime.get_entry_id () in
    ();
@@ -59,7 +60,7 @@ let rec loop_exceeded (x : int) =
               __res)
          | exception e -> (Debug_runtime.close_log (); raise e))) : int)
 let () =
-  try print_endline @@ (Int.to_string @@ (loop_exceeded 7))
+  try print_endline @@ (Int.to_string @@ (loop_exceeded 17))
   with | _ -> print_endline "Raised exception."
 let bar () =
   (let __entry_id = Debug_runtime.get_entry_id () in
@@ -80,39 +81,86 @@ let bar () =
          Debug_runtime.close_log ();
          failwith "ppx_minidebug: max_nesting_depth exceeded")
       else
-        (match for i = 0 to 100 do
-                 let _baz : int =
-                   let __entry_id = Debug_runtime.get_entry_id () in
-                   ();
-                   if Debug_runtime.exceeds_max_children ()
-                   then
-                     (Debug_runtime.log_value_show ~descr:"_baz"
-                        ~entry_id:__entry_id ~v:"<max_num_children exceeded>";
-                      failwith "ppx_minidebug: max_num_children exceeded")
-                   else
-                     (Debug_runtime.open_log_preamble_brief
-                        ~fname:"test_debug_interrupts.ml" ~pos_lnum:17
-                        ~pos_colnum:8 ~message:"_baz" ~entry_id:__entry_id;
-                      if Debug_runtime.exceeds_max_nesting ()
-                      then
-                        (Debug_runtime.log_value_show ~descr:"_baz"
-                           ~entry_id:__entry_id
-                           ~v:"<max_nesting_depth exceeded>";
-                         Debug_runtime.close_log ();
-                         failwith "ppx_minidebug: max_nesting_depth exceeded")
-                      else
-                        (match i * 2 with
-                         | _baz as __res ->
-                             ((();
-                               Debug_runtime.log_value_show ~descr:"_baz"
-                                 ~entry_id:__entry_id
-                                 ~v:(([%show : int]) _baz));
+        (match let __entry_id = Debug_runtime.get_entry_id () in
+               Debug_runtime.open_log_preamble_brief
+                 ~fname:"test_debug_interrupts.ml" ~pos_lnum:16 ~pos_colnum:2
+                 ~message:"<for loop>" ~entry_id:__entry_id;
+               (match for i = 0 to 100 do
+                        let __entry_id = Debug_runtime.get_entry_id () in
+                        Debug_runtime.log_value_show ~descr:"i"
+                          ~entry_id:__entry_id ~v:(([%show : int]) i);
+                        if Debug_runtime.exceeds_max_children ()
+                        then
+                          (Debug_runtime.log_value_show ~descr:"i"
+                             ~entry_id:__entry_id
+                             ~v:"<max_num_children exceeded>";
+                           failwith
+                             "ppx_minidebug: max_num_children exceeded")
+                        else
+                          (Debug_runtime.open_log_preamble_brief
+                             ~fname:"test_debug_interrupts.ml" ~pos_lnum:16
+                             ~pos_colnum:6 ~message:"<for i>"
+                             ~entry_id:__entry_id;
+                           if Debug_runtime.exceeds_max_nesting ()
+                           then
+                             (Debug_runtime.log_value_show ~descr:"i"
+                                ~entry_id:__entry_id
+                                ~v:"<max_nesting_depth exceeded>";
                               Debug_runtime.close_log ();
-                              __res)
-                         | exception e ->
-                             (Debug_runtime.close_log (); raise e))) in
-                 ()
-               done
+                              failwith
+                                "ppx_minidebug: max_nesting_depth exceeded")
+                           else
+                             (match let _baz : int =
+                                      let __entry_id =
+                                        Debug_runtime.get_entry_id () in
+                                      ();
+                                      if
+                                        Debug_runtime.exceeds_max_children ()
+                                      then
+                                        (Debug_runtime.log_value_show
+                                           ~descr:"_baz" ~entry_id:__entry_id
+                                           ~v:"<max_num_children exceeded>";
+                                         failwith
+                                           "ppx_minidebug: max_num_children exceeded")
+                                      else
+                                        (Debug_runtime.open_log_preamble_brief
+                                           ~fname:"test_debug_interrupts.ml"
+                                           ~pos_lnum:17 ~pos_colnum:8
+                                           ~message:"_baz"
+                                           ~entry_id:__entry_id;
+                                         if
+                                           Debug_runtime.exceeds_max_nesting
+                                             ()
+                                         then
+                                           (Debug_runtime.log_value_show
+                                              ~descr:"_baz"
+                                              ~entry_id:__entry_id
+                                              ~v:"<max_nesting_depth exceeded>";
+                                            Debug_runtime.close_log ();
+                                            failwith
+                                              "ppx_minidebug: max_nesting_depth exceeded")
+                                         else
+                                           (match i * 2 with
+                                            | _baz as __res ->
+                                                ((();
+                                                  Debug_runtime.log_value_show
+                                                    ~descr:"_baz"
+                                                    ~entry_id:__entry_id
+                                                    ~v:(([%show : int]) _baz));
+                                                 Debug_runtime.close_log ();
+                                                 __res)
+                                            | exception e ->
+                                                (Debug_runtime.close_log ();
+                                                 raise e))) in
+                                    ()
+                              with
+                              | () -> ((); Debug_runtime.close_log (); ())
+                              | exception e ->
+                                  (Debug_runtime.close_log (); raise e)))
+                      done
+                with
+                | () -> Debug_runtime.close_log ()
+                | exception e -> (Debug_runtime.close_log (); raise e))
          with
          | __res ->
              (Debug_runtime.log_value_show ~descr:"bar" ~entry_id:__entry_id
File "test/test_expect_test.ml", line 1, characters 0-0:
diff --git a/_build/default/test/test_expect_test.ml b/_build/.sandbox/529219bcdeca4aa3ba3910651e45e93c/default/test/test_expect_test.ml.corrected
index bef9377..44e0cd9 100644
--- a/_build/default/test/test_expect_test.ml
+++ b/_build/.sandbox/529219bcdeca4aa3ba3910651e45e93c/default/test/test_expect_test.ml.corrected
@@ -195,25 +195,25 @@ let%expect_test "%debug_show PrintBox to stdout depth exceeded" =
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":185:40-188:60: loop_exceeded
+      "test/test_expect_test.ml":185:40-189:60: loop_exceeded
       ├─x = 7
-      ├─"test/test_expect_test.ml":187:10: z
+      ├─"test/test_expect_test.ml":188:10: z
       │ └─z = 3
-      └─"test/test_expect_test.ml":185:40-188:60: loop_exceeded
+      └─"test/test_expect_test.ml":185:40-189:60: loop_exceeded
         ├─x = 6
-        ├─"test/test_expect_test.ml":187:10: z
+        ├─"test/test_expect_test.ml":188:10: z
         │ └─z = 2
-        └─"test/test_expect_test.ml":185:40-188:60: loop_exceeded
+        └─"test/test_expect_test.ml":185:40-189:60: loop_exceeded
           ├─x = 5
-          ├─"test/test_expect_test.ml":187:10: z
+          ├─"test/test_expect_test.ml":188:10: z
           │ └─z = 2
-          └─"test/test_expect_test.ml":185:40-188:60: loop_exceeded
+          └─"test/test_expect_test.ml":185:40-189:60: loop_exceeded
             ├─x = 4
-            ├─"test/test_expect_test.ml":187:10: z
+            ├─"test/test_expect_test.ml":188:10: z
             │ └─z = 1
-            └─"test/test_expect_test.ml":185:40-188:60: loop_exceeded
+            └─"test/test_expect_test.ml":185:40-189:60: loop_exceeded
               ├─x = 3
-              └─"test/test_expect_test.ml":187:10: z
+              └─"test/test_expect_test.ml":188:10: z
                 └─z = <max_nesting_depth exceeded>
       Raised exception. |}]
 
@@ -235,28 +235,28 @@ let%expect_test "%debug_show PrintBox to stdout num children exceeded linear" =
   [%expect
     {|
     BEGIN DEBUG SESSION
-    "test/test_expect_test.ml":223:26: _bar
-    ├─"test/test_expect_test.ml":226:16: _baz
+    "test/test_expect_test.ml":224:26: _bar
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 0
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 2
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 4
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 6
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 8
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 10
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 12
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 14
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 16
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 18
-    ├─"test/test_expect_test.ml":226:16: _baz
+    ├─"test/test_expect_test.ml":228:16: _baz
     │ └─_baz = 20
     └─_baz = <max_num_children exceeded>
     Raised exception: ppx_minidebug: max_num_children exceeded |}]
@@ -279,27 +279,27 @@ let%expect_test "%debug_show PrintBox to stdout track for-loop num children exce
   [%expect
     {|
     BEGIN DEBUG SESSION
-    "test/test_expect_test.ml":266:26: _bar
-    └─"test/test_expect_test.ml":268:10: <for loop>
+    "test/test_expect_test.ml":268:26: _bar
+    └─"test/test_expect_test.ml":271:10: <for loop>
       ├─i = 0
-      ├─"test/test_expect_test.ml":268:14: <for i>
-      │ └─"test/test_expect_test.ml":269:16: _baz
+      ├─"test/test_expect_test.ml":271:14: <for i>
+      │ └─"test/test_expect_test.ml":272:16: _baz
       │   └─_baz = 0
       ├─i = 1
-      ├─"test/test_expect_test.ml":268:14: <for i>
-      │ └─"test/test_expect_test.ml":269:16: _baz
+      ├─"test/test_expect_test.ml":271:14: <for i>
+      │ └─"test/test_expect_test.ml":272:16: _baz
       │   └─_baz = 2
       ├─i = 2
-      ├─"test/test_expect_test.ml":268:14: <for i>
-      │ └─"test/test_expect_test.ml":269:16: _baz
+      ├─"test/test_expect_test.ml":271:14: <for i>
+      │ └─"test/test_expect_test.ml":272:16: _baz
       │   └─_baz = 4
       ├─i = 3
-      ├─"test/test_expect_test.ml":268:14: <for i>
-      │ └─"test/test_expect_test.ml":269:16: _baz
+      ├─"test/test_expect_test.ml":271:14: <for i>
+      │ └─"test/test_expect_test.ml":272:16: _baz
       │   └─_baz = 6
       ├─i = 4
-      ├─"test/test_expect_test.ml":268:14: <for i>
-      │ └─"test/test_expect_test.ml":269:16: _baz
+      ├─"test/test_expect_test.ml":271:14: <for i>
+      │ └─"test/test_expect_test.ml":272:16: _baz
       │   └─_baz = 8
       ├─i = 5
       └─i = <max_num_children exceeded>
@@ -323,35 +323,35 @@ let%expect_test "%debug_show PrintBox to stdout track for-loop" =
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":309:26: _bar
-      ├─"test/test_expect_test.ml":311:10: <for loop>
+      "test/test_expect_test.ml":312:26: _bar
+      ├─"test/test_expect_test.ml":315:10: <for loop>
       │ ├─i = 0
-      │ ├─"test/test_expect_test.ml":311:14: <for i>
-      │ │ └─"test/test_expect_test.ml":312:16: _baz
+      │ ├─"test/test_expect_test.ml":315:14: <for i>
+      │ │ └─"test/test_expect_test.ml":316:16: _baz
       │ │   └─_baz = 0
       │ ├─i = 1
-      │ ├─"test/test_expect_test.ml":311:14: <for i>
-      │ │ └─"test/test_expect_test.ml":312:16: _baz
+      │ ├─"test/test_expect_test.ml":315:14: <for i>
+      │ │ └─"test/test_expect_test.ml":316:16: _baz
       │ │   └─_baz = 2
       │ ├─i = 2
-      │ ├─"test/test_expect_test.ml":311:14: <for i>
-      │ │ └─"test/test_expect_test.ml":312:16: _baz
+      │ ├─"test/test_expect_test.ml":315:14: <for i>
+      │ │ └─"test/test_expect_test.ml":316:16: _baz
       │ │   └─_baz = 4
       │ ├─i = 3
-      │ ├─"test/test_expect_test.ml":311:14: <for i>
-      │ │ └─"test/test_expect_test.ml":312:16: _baz
+      │ ├─"test/test_expect_test.ml":315:14: <for i>
+      │ │ └─"test/test_expect_test.ml":316:16: _baz
       │ │   └─_baz = 6
       │ ├─i = 4
-      │ ├─"test/test_expect_test.ml":311:14: <for i>
-      │ │ └─"test/test_expect_test.ml":312:16: _baz
+      │ ├─"test/test_expect_test.ml":315:14: <for i>
+      │ │ └─"test/test_expect_test.ml":316:16: _baz
       │ │   └─_baz = 8
       │ ├─i = 5
-      │ ├─"test/test_expect_test.ml":311:14: <for i>
-      │ │ └─"test/test_expect_test.ml":312:16: _baz
+      │ ├─"test/test_expect_test.ml":315:14: <for i>
+      │ │ └─"test/test_expect_test.ml":316:16: _baz
       │ │   └─_baz = 10
       │ ├─i = 6
-      │ └─"test/test_expect_test.ml":311:14: <for i>
-      │   └─"test/test_expect_test.ml":312:16: _baz
+      │ └─"test/test_expect_test.ml":315:14: <for i>
+      │   └─"test/test_expect_test.ml":316:16: _baz
       │     └─_baz = 12
       └─_bar = () |}]
 
@@ -372,25 +372,25 @@ let%expect_test "%debug_show PrintBox to stdout track while-loop" =
   [%expect
     {|
     BEGIN DEBUG SESSION
-    "test/test_expect_test.ml":358:26: _bar
-    ├─"test/test_expect_test.ml":360:8: <while loop>
-    │ ├─"test/test_expect_test.ml":361:10: <while loop>
-    │ │ └─"test/test_expect_test.ml":361:14: _baz
+    "test/test_expect_test.ml":362:26: _bar
+    ├─"test/test_expect_test.ml":364:8: <while loop>
+    │ ├─"test/test_expect_test.ml":365:10: <while loop>
+    │ │ └─"test/test_expect_test.ml":365:14: _baz
     │ │   └─_baz = 0
-    │ ├─"test/test_expect_test.ml":361:10: <while loop>
-    │ │ └─"test/test_expect_test.ml":361:14: _baz
+    │ ├─"test/test_expect_test.ml":365:10: <while loop>
+    │ │ └─"test/test_expect_test.ml":365:14: _baz
     │ │   └─_baz = 2
-    │ ├─"test/test_expect_test.ml":361:10: <while loop>
-    │ │ └─"test/test_expect_test.ml":361:14: _baz
+    │ ├─"test/test_expect_test.ml":365:10: <while loop>
+    │ │ └─"test/test_expect_test.ml":365:14: _baz
     │ │   └─_baz = 4
-    │ ├─"test/test_expect_test.ml":361:10: <while loop>
-    │ │ └─"test/test_expect_test.ml":361:14: _baz
+    │ ├─"test/test_expect_test.ml":365:10: <while loop>
+    │ │ └─"test/test_expect_test.ml":365:14: _baz
     │ │   └─_baz = 6
-    │ ├─"test/test_expect_test.ml":361:10: <while loop>
-    │ │ └─"test/test_expect_test.ml":361:14: _baz
+    │ ├─"test/test_expect_test.ml":365:10: <while loop>
+    │ │ └─"test/test_expect_test.ml":365:14: _baz
     │ │   └─_baz = 8
-    │ └─"test/test_expect_test.ml":361:10: <while loop>
-    │   └─"test/test_expect_test.ml":361:14: _baz
+    │ └─"test/test_expect_test.ml":365:10: <while loop>
+    │   └─"test/test_expect_test.ml":365:14: _baz
     │     └─_baz = 10
     └─_bar = ()
         |}]
@@ -414,39 +414,39 @@ let%expect_test "%debug_show PrintBox to stdout num children exceeded nested" =
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":396:40-403:72: loop_exceeded
+      "test/test_expect_test.ml":400:40-408:72: loop_exceeded
       ├─x = 3
-      ├─"test/test_expect_test.ml":402:17: z
+      ├─"test/test_expect_test.ml":407:17: z
       │ └─z = 1
-      └─"test/test_expect_test.ml":396:40-403:72: loop_exceeded
+      └─"test/test_expect_test.ml":400:40-408:72: loop_exceeded
         ├─x = 2
-        ├─"test/test_expect_test.ml":402:17: z
+        ├─"test/test_expect_test.ml":407:17: z
         │ └─z = 0
-        └─"test/test_expect_test.ml":396:40-403:72: loop_exceeded
+        └─"test/test_expect_test.ml":400:40-408:72: loop_exceeded
           ├─x = 1
-          ├─"test/test_expect_test.ml":402:17: z
+          ├─"test/test_expect_test.ml":407:17: z
           │ └─z = 0
-          └─"test/test_expect_test.ml":396:40-403:72: loop_exceeded
+          └─"test/test_expect_test.ml":400:40-408:72: loop_exceeded
             ├─x = 0
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 0
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 1
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 2
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 3
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 4
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 5
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 6
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 7
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 8
-            ├─"test/test_expect_test.ml":402:17: z
+            ├─"test/test_expect_test.ml":407:17: z
             │ └─z = 9
             └─z = <max_num_children exceeded>
       Raised exception: ppx_minidebug: max_num_children exceeded |}]
@@ -466,52 +466,52 @@ let%expect_test "%debug_show PrintBox to stdout highlight" =
     {|
       BEGIN DEBUG SESSION
       ┌────────────────────────────────────────────────────────┐
-      │"test/test_expect_test.ml":453:41-456:61: loop_highlight│
+      │"test/test_expect_test.ml":458:41-462:61: loop_highlight│
       ├────────────────────────────────────────────────────────┘
       ├─x = 7
       ├─┬────────────────────────────────────┐
-      │ │"test/test_expect_test.ml":455:10: z│
+      │ │"test/test_expect_test.ml":461:10: z│
       │ ├────────────────────────────────────┘
       │ └─┬─────┐
       │   │z = 3│
       │   └─────┘
       ├─┬────────────────────────────────────────────────────────┐
-      │ │"test/test_expect_test.ml":453:41-456:61: loop_highlight│
+      │ │"test/test_expect_test.ml":458:41-462:61: loop_highlight│
       │ ├────────────────────────────────────────────────────────┘
       │ ├─x = 6
-      │ ├─"test/test_expect_test.ml":455:10: z
+      │ ├─"test/test_expect_test.ml":461:10: z
       │ │ └─z = 2
       │ ├─┬────────────────────────────────────────────────────────┐
-      │ │ │"test/test_expect_test.ml":453:41-456:61: loop_highlight│
+      │ │ │"test/test_expect_test.ml":458:41-462:61: loop_highlight│
       │ │ ├────────────────────────────────────────────────────────┘
       │ │ ├─x = 5
-      │ │ ├─"test/test_expect_test.ml":455:10: z
+      │ │ ├─"test/test_expect_test.ml":461:10: z
       │ │ │ └─z = 2
       │ │ ├─┬────────────────────────────────────────────────────────┐
-      │ │ │ │"test/test_expect_test.ml":453:41-456:61: loop_highlight│
+      │ │ │ │"test/test_expect_test.ml":458:41-462:61: loop_highlight│
       │ │ │ ├────────────────────────────────────────────────────────┘
       │ │ │ ├─x = 4
-      │ │ │ ├─"test/test_expect_test.ml":455:10: z
+      │ │ │ ├─"test/test_expect_test.ml":461:10: z
       │ │ │ │ └─z = 1
       │ │ │ ├─┬────────────────────────────────────────────────────────┐
-      │ │ │ │ │"test/test_expect_test.ml":453:41-456:61: loop_highlight│
+      │ │ │ │ │"test/test_expect_test.ml":458:41-462:61: loop_highlight│
       │ │ │ │ ├────────────────────────────────────────────────────────┘
       │ │ │ │ ├─┬─────┐
       │ │ │ │ │ │x = 3│
       │ │ │ │ │ └─────┘
-      │ │ │ │ ├─"test/test_expect_test.ml":455:10: z
+      │ │ │ │ ├─"test/test_expect_test.ml":461:10: z
       │ │ │ │ │ └─z = 1
-      │ │ │ │ ├─"test/test_expect_test.ml":453:41-456:61: loop_highlight
+      │ │ │ │ ├─"test/test_expect_test.ml":458:41-462:61: loop_highlight
       │ │ │ │ │ ├─x = 2
-      │ │ │ │ │ ├─"test/test_expect_test.ml":455:10: z
+      │ │ │ │ │ ├─"test/test_expect_test.ml":461:10: z
       │ │ │ │ │ │ └─z = 0
-      │ │ │ │ │ ├─"test/test_expect_test.ml":453:41-456:61: loop_highlight
+      │ │ │ │ │ ├─"test/test_expect_test.ml":458:41-462:61: loop_highlight
       │ │ │ │ │ │ ├─x = 1
-      │ │ │ │ │ │ ├─"test/test_expect_test.ml":455:10: z
+      │ │ │ │ │ │ ├─"test/test_expect_test.ml":461:10: z
       │ │ │ │ │ │ │ └─z = 0
-      │ │ │ │ │ │ ├─"test/test_expect_test.ml":453:41-456:61: loop_highlight
+      │ │ │ │ │ │ ├─"test/test_expect_test.ml":458:41-462:61: loop_highlight
       │ │ │ │ │ │ │ ├─x = 0
-      │ │ │ │ │ │ │ ├─"test/test_expect_test.ml":455:10: z
+      │ │ │ │ │ │ │ ├─"test/test_expect_test.ml":461:10: z
       │ │ │ │ │ │ │ │ └─z = 0
       │ │ │ │ │ │ │ └─loop_highlight = 0
       │ │ │ │ │ │ └─loop_highlight = 0
@@ -538,16 +538,16 @@ let%expect_test "%debug_show PrintBox tracking" =
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":522:37-524:46: track_branches
+      "test/test_expect_test.ml":528:37-530:46: track_branches
       ├─x = 7
-      ├─"test/test_expect_test.ml":524:9: <if -- else branch>
-      │ └─"test/test_expect_test.ml":524:36-524:37: <match -- branch 1>
+      ├─"test/test_expect_test.ml":530:9: <if -- else branch>
+      │ └─"test/test_expect_test.ml":530:36-530:37: <match -- branch 1>
       └─track_branches = 4
       4
-      "test/test_expect_test.ml":522:37-524:46: track_branches
+      "test/test_expect_test.ml":528:37-530:46: track_branches
       ├─x = 3
-      ├─"test/test_expect_test.ml":523:18: <if -- then branch>
-      │ └─"test/test_expect_test.ml":523:54-523:57: <match -- branch 2>
+      ├─"test/test_expect_test.ml":529:18: <if -- then branch>
+      │ └─"test/test_expect_test.ml":529:54-529:57: <match -- branch 2>
       └─track_branches = -3
       -3
     |}]
@@ -571,9 +571,9 @@ let%expect_test "%debug_show PrintBox tracking <function>" =
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":555:11-555:12: <function -- branch 3>
+      "test/test_expect_test.ml":561:11-561:12: <function -- branch 3>
       4
-      "test/test_expect_test.ml":557:11-557:14: <function -- branch 5> x
+      "test/test_expect_test.ml":563:11-563:14: <function -- branch 5> x
       -3
     |}]
 
@@ -604,19 +604,19 @@ let%expect_test "%debug_show PrintBox tracking with debug_notrace" =
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":576:37-590:16: track_branches
+      "test/test_expect_test.ml":582:37-596:16: track_branches
       ├─x = 8
-      ├─"test/test_expect_test.ml":585:6: <if -- else branch>
-      │ └─"test/test_expect_test.ml":589:10-590:16: <match -- branch 2>
-      │   └─"test/test_expect_test.ml":589:14: result
-      │     ├─"test/test_expect_test.ml":589:44: <if -- then branch>
+      ├─"test/test_expect_test.ml":591:6: <if -- else branch>
+      │ └─"test/test_expect_test.ml":595:10-596:16: <match -- branch 2>
+      │   └─"test/test_expect_test.ml":595:14: result
+      │     ├─"test/test_expect_test.ml":595:44: <if -- then branch>
       │     └─result = 8
       └─track_branches = 8
       8
-      "test/test_expect_test.ml":576:37-590:16: track_branches
+      "test/test_expect_test.ml":582:37-596:16: track_branches
       ├─x = 3
-      ├─"test/test_expect_test.ml":578:6: <if -- then branch>
-      │ └─"test/test_expect_test.ml":582:14: result
+      ├─"test/test_expect_test.ml":584:6: <if -- then branch>
+      │ └─"test/test_expect_test.ml":588:14: result
       │   └─result = 3
       └─track_branches = 3
       3
@@ -649,19 +649,19 @@ let%expect_test "nested extension points are no-ops" =
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":621:37-635:16: track_branches
+      "test/test_expect_test.ml":627:37-641:16: track_branches
       ├─x = 8
-      ├─"test/test_expect_test.ml":630:6: <if -- else branch>
-      │ └─"test/test_expect_test.ml":634:10-635:16: <match -- branch 2>
-      │   └─"test/test_expect_test.ml":634:23: result
-      │     ├─"test/test_expect_test.ml":634:53: <if -- then branch>
+      ├─"test/test_expect_test.ml":636:6: <if -- else branch>
+      │ └─"test/test_expect_test.ml":640:10-641:16: <match -- branch 2>
+      │   └─"test/test_expect_test.ml":640:23: result
+      │     ├─"test/test_expect_test.ml":640:53: <if -- then branch>
       │     └─result = 8
       └─track_branches = 8
       8
-      "test/test_expect_test.ml":621:37-635:16: track_branches
+      "test/test_expect_test.ml":627:37-641:16: track_branches
       ├─x = 3
-      ├─"test/test_expect_test.ml":623:6: <if -- then branch>
-      │ └─"test/test_expect_test.ml":627:25: result
+      ├─"test/test_expect_test.ml":629:6: <if -- then branch>
+      │ └─"test/test_expect_test.ml":633:25: result
       │   └─result = 3
       └─track_branches = 3
       3
@@ -689,15 +689,15 @@ let%expect_test "%track_show PrintBox to stdout no return type anonymous fun" =
   in
   [%expect
     {|
-      "test/test_expect_test.ml":677:32-678:70: anonymous
+      "test/test_expect_test.ml":683:32-684:70: anonymous
       ├─x = 3
-      ├─"test/test_expect_test.ml":678:50-678:70: __fun
+      ├─"test/test_expect_test.ml":684:50-684:70: __fun
       │ └─i = 0
-      ├─"test/test_expect_test.ml":678:50-678:70: __fun
+      ├─"test/test_expect_test.ml":684:50-684:70: __fun
       │ └─i = 1
-      ├─"test/test_expect_test.ml":678:50-678:70: __fun
+      ├─"test/test_expect_test.ml":684:50-684:70: __fun
       │ └─i = 2
-      └─"test/test_expect_test.ml":678:50-678:70: __fun
+      └─"test/test_expect_test.ml":684:50-684:70: __fun
         └─i = 3
       6
     |}]
@@ -721,79 +721,79 @@ let%expect_test "%track_show PrintBox to stdout anonymous fun, num children exce
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":701:40-708:72: loop_exceeded
+      "test/test_expect_test.ml":707:40-715:72: loop_exceeded
       ├─x = 3
-      └─"test/test_expect_test.ml":706:11-708:71: __fun
+      └─"test/test_expect_test.ml":713:11-715:71: __fun
         ├─i = 0
-        ├─"test/test_expect_test.ml":707:17: z
+        ├─"test/test_expect_test.ml":714:17: z
         │ └─z = 1
-        └─"test/test_expect_test.ml":708:35: <if -- else branch>
-          └─"test/test_expect_test.ml":701:40-708:72: loop_exceeded
+        └─"test/test_expect_test.ml":715:35: <if -- else branch>
+          └─"test/test_expect_test.ml":707:40-715:72: loop_exceeded
             ├─x = 2
-            └─"test/test_expect_test.ml":706:11-708:71: __fun
+            └─"test/test_expect_test.ml":713:11-715:71: __fun
               ├─i = 0
-              ├─"test/test_expect_test.ml":707:17: z
+              ├─"test/test_expect_test.ml":714:17: z
               │ └─z = 0
-              └─"test/test_expect_test.ml":708:35: <if -- else branch>
-                └─"test/test_expect_test.ml":701:40-708:72: loop_exceeded
+              └─"test/test_expect_test.ml":715:35: <if -- else branch>
+                └─"test/test_expect_test.ml":707:40-715:72: loop_exceeded
                   ├─x = 1
-                  └─"test/test_expect_test.ml":706:11-708:71: __fun
+                  └─"test/test_expect_test.ml":713:11-715:71: __fun
                     ├─i = 0
-                    ├─"test/test_expect_test.ml":707:17: z
+                    ├─"test/test_expect_test.ml":714:17: z
                     │ └─z = 0
-                    └─"test/test_expect_test.ml":708:35: <if -- else branch>
-                      └─"test/test_expect_test.ml":701:40-708:72: loop_exceeded
+                    └─"test/test_expect_test.ml":715:35: <if -- else branch>
+                      └─"test/test_expect_test.ml":707:40-715:72: loop_exceeded
                         ├─x = 0
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 0
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 0
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 1
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 1
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 2
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 2
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 3
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 3
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 4
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 4
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 5
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 5
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 6
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 6
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 7
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 7
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 8
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 8
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
-                        ├─"test/test_expect_test.ml":706:11-708:71: __fun
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
+                        ├─"test/test_expect_test.ml":713:11-715:71: __fun
                         │ ├─i = 9
-                        │ ├─"test/test_expect_test.ml":707:17: z
+                        │ ├─"test/test_expect_test.ml":714:17: z
                         │ │ └─z = 9
-                        │ └─"test/test_expect_test.ml":708:28: <if -- then branch>
+                        │ └─"test/test_expect_test.ml":715:28: <if -- then branch>
                         └─__fun = <max_num_children exceeded>
       Raised exception: ppx_minidebug: max_num_children exceeded
     |}]
@@ -824,7 +824,7 @@ let%expect_test "%track_show PrintBox to stdout function with abstract type" =
   [%expect
     {|
       BEGIN DEBUG SESSION
-      "test/test_expect_test.ml":802:26-803:47: foo
+      "test/test_expect_test.ml":809:26-810:47: foo
       ├─c = 1
       └─foo = 2
       2
@@ -845,45 +845,45 @@ let%expect_test "%debug_show PrintBox values_first_mode to stdout with exception
     {|
   BEGIN DEBUG SESSION
   loop_truncated
-  ├─"test/test_expect_test.ml":828:41-831:36
+  ├─"test/test_expect_test.ml":835:41-838:36
   ├─x = 7
   ├─z = 3
-  │ └─"test/test_expect_test.ml":829:8
+  │ └─"test/test_expect_test.ml":836:8
   └─loop_truncated
-    ├─"test/test_expect_test.ml":828:41-831:36
+    ├─"test/test_expect_test.ml":835:41-838:36
     ├─x = 6
     ├─z = 2
-    │ └─"test/test_expect_test.ml":829:8
+    │ └─"test/test_expect_test.ml":836:8
     └─loop_truncated
-      ├─"test/test_expect_test.ml":828:41-831:36
+      ├─"test/test_expect_test.ml":835:41-838:36
       ├─x = 5
       ├─z = 2
-      │ └─"test/test_expect_test.ml":829:8
+      │ └─"test/test_expect_test.ml":836:8
       └─loop_truncated
-        ├─"test/test_expect_test.ml":828:41-831:36
+        ├─"test/test_expect_test.ml":835:41-838:36
         ├─x = 4
         ├─z = 1
-        │ └─"test/test_expect_test.ml":829:8
+        │ └─"test/test_expect_test.ml":836:8
         └─loop_truncated
-          ├─"test/test_expect_test.ml":828:41-831:36
+          ├─"test/test_expect_test.ml":835:41-838:36
           ├─x = 3
           ├─z = 1
-          │ └─"test/test_expect_test.ml":829:8
+          │ └─"test/test_expect_test.ml":836:8
           └─loop_truncated
-            ├─"test/test_expect_test.ml":828:41-831:36
+            ├─"test/test_expect_test.ml":835:41-838:36
             ├─x = 2
             ├─z = 0
-            │ └─"test/test_expect_test.ml":829:8
+            │ └─"test/test_expect_test.ml":836:8
             └─loop_truncated
-              ├─"test/test_expect_test.ml":828:41-831:36
+              ├─"test/test_expect_test.ml":835:41-838:36
               ├─x = 1
               ├─z = 0
-              │ └─"test/test_expect_test.ml":829:8
+              │ └─"test/test_expect_test.ml":836:8
               └─loop_truncated
-                ├─"test/test_expect_test.ml":828:41-831:36
+                ├─"test/test_expect_test.ml":835:41-838:36
                 ├─x = 0
                 └─z = 0
-                  └─"test/test_expect_test.ml":829:8
+                  └─"test/test_expect_test.ml":836:8
   Raised exception. |}]
 
 let%expect_test "%debug_show PrintBox values_first_mode to stdout num children exceeded \
@@ -908,29 +908,29 @@ let%expect_test "%debug_show PrintBox values_first_mode to stdout num children e
     {|
     BEGIN DEBUG SESSION
     _bar
-    ├─"test/test_expect_test.ml":889:26
+    ├─"test/test_expect_test.ml":896:26
     ├─_baz = 0
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 2
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 4
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 6
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 8
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 10
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 12
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 14
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 16
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 18
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     ├─_baz = 20
-    │ └─"test/test_expect_test.ml":892:16
+    │ └─"test/test_expect_test.ml":900:16
     └─_baz = <max_num_children exceeded>
     Raised exception: ppx_minidebug: max_num_children exceeded |}]
 
@@ -953,44 +953,44 @@ let%expect_test "%debug_show PrintBox values_first_mode to stdout track for-loop
     {|
       BEGIN DEBUG SESSION
       _bar = ()
-      ├─"test/test_expect_test.ml":933:26
+      ├─"test/test_expect_test.ml":941:26
       └─<for loop>
-        ├─"test/test_expect_test.ml":935:10
+        ├─"test/test_expect_test.ml":944:10
         ├─i = 0
         ├─<for i>
-        │ ├─"test/test_expect_test.ml":935:14
+        │ ├─"test/test_expect_test.ml":944:14
         │ └─_baz = 0
-        │   └─"test/test_expect_test.ml":936:16
+        │   └─"test/test_expect_test.ml":945:16
         ├─i = 1
         ├─<for i>
-        │ ├─"test/test_expect_test.ml":935:14
+        │ ├─"test/test_expect_test.ml":944:14
         │ └─_baz = 2
-        │   └─"test/test_expect_test.ml":936:16
+        │   └─"test/test_expect_test.ml":945:16
         ├─i = 2
         ├─<for i>
-        │ ├─"test/test_expect_test.ml":935:14
+        │ ├─"test/test_expect_test.ml":944:14
         │ └─_baz = 4
-        │   └─"test/test_expect_test.ml":936:16
+        │   └─"test/test_expect_test.ml":945:16
         ├─i = 3
         ├─<for i>
-        │ ├─"test/test_expect_test.ml":935:14
+        │ ├─"test/test_expect_test.ml":944:14
         │ └─_baz = 6
-        │   └─"test/test_expect_test.ml":936:16
+        │   └─"test/test_expect_test.ml":945:16
         ├─i = 4
         ├─<for i>
-        │ ├─"test/test_expect_test.ml":935:14
+        │ ├─"test/test_expect_test.ml":944:14
         │ └─_baz = 8
-        │   └─"test/test_expect_test.ml":936:16
+        │   └─"test/test_expect_test.ml":945:16
         ├─i = 5
         ├─<for i>
-        │ ├─"test/test_expect_test.ml":935:14
+        │ ├─"test/test_expect_test.ml":944:14
         │ └─_baz = 10
-        │   └─"test/test_expect_test.ml":936:16
+        │   └─"test/test_expect_test.ml":945:16
         ├─i = 6
         └─<for i>
-          ├─"test/test_expect_test.ml":935:14
+          ├─"test/test_expect_test.ml":944:14
           └─_baz = 12
-            └─"test/test_expect_test.ml":936:16 |}]
+            └─"test/test_expect_test.ml":945:16 |}]
 
 let%expect_test "%debug_show PrintBox values_first_mode to stdout num children exceeded \
                  nested" =
@@ -1015,43 +1015,43 @@ let%expect_test "%debug_show PrintBox values_first_mode to stdout num children e
     {|
       BEGIN DEBUG SESSION
       loop_exceeded
-      ├─"test/test_expect_test.ml":991:40-998:72
+      ├─"test/test_expect_test.ml":1000:40-1008:72
       ├─x = 3
       ├─z = 1
-      │ └─"test/test_expect_test.ml":997:17
+      │ └─"test/test_expect_test.ml":1007:17
       └─loop_exceeded
-        ├─"test/test_expect_test.ml":991:40-998:72
+        ├─"test/test_expect_test.ml":1000:40-1008:72
         ├─x = 2
         ├─z = 0
-        │ └─"test/test_expect_test.ml":997:17
+        │ └─"test/test_expect_test.ml":1007:17
         └─loop_exceeded
-          ├─"test/test_expect_test.ml":991:40-998:72
+          ├─"test/test_expect_test.ml":1000:40-1008:72
           ├─x = 1
           ├─z = 0
-          │ └─"test/test_expect_test.ml":997:17
+          │ └─"test/test_expect_test.ml":1007:17
           └─loop_exceeded
-            ├─"test/test_expect_test.ml":991:40-998:72
+            ├─"test/test_expect_test.ml":1000:40-1008:72
             ├─x = 0
             ├─z = 0
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 1
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 2
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 3
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 4
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 5
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 6
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 7
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 8
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             ├─z = 9
-            │ └─"test/test_expect_test.ml":997:17
+            │ └─"test/test_expect_test.ml":1007:17
             └─z = <max_num_children exceeded>
       Raised exception: ppx_minidebug: max_num_children exceeded |}]
 
@@ -1070,57 +1070,57 @@ let%expect_test "%debug_show PrintBox values_first_mode to stdout highlight" =
       ┌──────────────────┐
       │loop_highlight = 9│
       ├──────────────────┘
-      ├─"test/test_expect_test.ml":1052:41-1054:58
+      ├─"test/test_expect_test.ml":1062:41-1064:58
       ├─x = 7
       ├─┬─────┐
       │ │z = 3│
       │ ├─────┘
-      │ └─"test/test_expect_test.ml":1053:8
+      │ └─"test/test_expect_test.ml":1063:8
       └─┬──────────────────┐
         │loop_highlight = 6│
         ├──────────────────┘
-        ├─"test/test_expect_test.ml":1052:41-1054:58
+        ├─"test/test_expect_test.ml":1062:41-1064:58
         ├─x = 6
         ├─z = 2
-        │ └─"test/test_expect_test.ml":1053:8
+        │ └─"test/test_expect_test.ml":1063:8
         └─┬──────────────────┐
           │loop_highlight = 4│
           ├──────────────────┘
-          ├─"test/test_expect_test.ml":1052:41-1054:58
+          ├─"test/test_expect_test.ml":1062:41-1064:58
           ├─x = 5
           ├─z = 2
-          │ └─"test/test_expect_test.ml":1053:8
+          │ └─"test/test_expect_test.ml":1063:8
           └─┬──────────────────┐
             │loop_highlight = 2│
             ├──────────────────┘
-            ├─"test/test_expect_test.ml":1052:41-1054:58
+            ├─"test/test_expect_test.ml":1062:41-1064:58
             ├─x = 4
             ├─z = 1
-            │ └─"test/test_expect_test.ml":1053:8
+            │ └─"test/test_expect_test.ml":1063:8
             └─┬──────────────────┐
               │loop_highlight = 1│
               ├──────────────────┘
-              ├─"test/test_expect_test.ml":1052:41-1054:58
+              ├─"test/test_expect_test.ml":1062:41-1064:58
               ├─┬─────┐
               │ │x = 3│
               │ └─────┘
               ├─z = 1
-              │ └─"test/test_expect_test.ml":1053:8
+              │ └─"test/test_expect_test.ml":1063:8
               └─loop_highlight = 0
-                ├─"test/test_expect_test.ml":1052:41-1054:58
+                ├─"test/test_expect_test.ml":1062:41-1064:58
                 ├─x = 2
                 ├─z = 0
-                │ └─"test/test_expect_test.ml":1053:8
+                │ └─"test/test_expect_test.ml":1063:8
                 └─loop_highlight = 0
-                  ├─"test/test_expect_test.ml":1052:41-1054:58
+                  ├─"test/test_expect_test.ml":1062:41-1064:58
                   ├─x = 1
                   ├─z = 0
-                  │ └─"test/test_expect_test.ml":1053:8
+                  │ └─"test/test_expect_test.ml":1063:8
                   └─loop_highlight = 0
-                    ├─"test/test_expect_test.ml":1052:41-1054:58
+                    ├─"test/test_expect_test.ml":1062:41-1064:58
                     ├─x = 0
                     └─z = 0
-                      └─"test/test_expect_test.ml":1053:8
+                      └─"test/test_expect_test.ml":1063:8
       9 |}]
 
 let%expect_test "%debug_show PrintBox values_first_mode tracking" =
@@ -1139,20 +1139,20 @@ let%expect_test "%debug_show PrintBox values_first_mode tracking" =
     {|
       BEGIN DEBUG SESSION
       track_branches = 4
-      ├─"test/test_expect_test.ml":1118:37-1120:46
+      ├─"test/test_expect_test.ml":1128:37-1130:46
       ├─x = 7
       └─<if -- else branch>
-        ├─"test/test_expect_test.ml":1120:9
+        ├─"test/test_expect_test.ml":1130:9
         └─<match -- branch 1>
-          └─"test/test_expect_test.ml":1120:36-1120:37
+          └─"test/test_expect_test.ml":1130:36-1130:37
       4
       track_branches = -3
-      ├─"test/test_expect_test.ml":1118:37-1120:46
+      ├─"test/test_expect_test.ml":1128:37-1130:46
       ├─x = 3
       └─<if -- then branch>
-        ├─"test/test_expect_test.ml":1119:18
+        ├─"test/test_expect_test.ml":1129:18
         └─<match -- branch 2>
-          └─"test/test_expect_test.ml":1119:54-1119:57
+          └─"test/test_expect_test.ml":1129:54-1129:57
       -3
     |}]
 
@@ -1172,16 +1172,16 @@ let%expect_test "%track_show PrintBox values_first_mode to stdout no return type
     {|
       BEGIN DEBUG SESSION
       anonymous
-      ├─"test/test_expect_test.ml":1154:32-1155:70
+      ├─"test/test_expect_test.ml":1164:32-1165:70
       ├─x = 3
       ├─i = 0
-      │ └─"test/test_expect_test.ml":1155:50-1155:70
+      │ └─"test/test_expect_test.ml":1165:50-1165:70
       ├─i = 1
-      │ └─"test/test_expect_test.ml":1155:50-1155:70
+      │ └─"test/test_expect_test.ml":1165:50-1165:70
       ├─i = 2
-      │ └─"test/test_expect_test.ml":1155:50-1155:70
+      │ └─"test/test_expect_test.ml":1165:50-1165:70
       └─i = 3
-        └─"test/test_expect_test.ml":1155:50-1155:70
+        └─"test/test_expect_test.ml":1165:50-1165:70
       6
     |}]
 
@@ -1201,20 +1201,20 @@ let%expect_test "%debug_show PrintBox to stdout records" =
   [%expect
     {|
     BEGIN DEBUG SESSION
-    "test/test_expect_test.ml":1180:21-1183:15: bar
+    "test/test_expect_test.ml":1190:21-1193:15: bar
     ├─first = 7
     ├─second = 42
-    ├─"test/test_expect_test.ml":1181:8: {first=a; second=b}
+    ├─"test/test_expect_test.ml":1191:8: {first=a; second=b}
     │ ├─a = 7
     │ └─b = 45
-    ├─"test/test_expect_test.ml":1182:8: y
+    ├─"test/test_expect_test.ml":1192:8: y
     │ └─y = 8
     └─bar = 336
     336
-    "test/test_expect_test.ml":1186:10-1188:28: baz
+    "test/test_expect_test.ml":1196:10-1198:28: baz
     ├─first = 7
     ├─second = 42
-    ├─"test/test_expect_test.ml":1187:8: {first; second}
+    ├─"test/test_expect_test.ml":1197:8: {first; second}
     │ ├─first = 8
     │ └─second = 45
     └─baz = 109
@@ -1238,21 +1238,21 @@ let%expect_test "%debug_show PrintBox to stdout tuples" =
   [%expect
     {|
     BEGIN DEBUG SESSION
-    "test/test_expect_test.ml":1215:21-1217:14: bar
+    "test/test_expect_test.ml":1225:21-1227:14: bar
     ├─first = 7
     ├─second = 42
-    ├─"test/test_expect_test.ml":1216:8: y
+    ├─"test/test_expect_test.ml":1226:8: y
     │ └─y = 8
     └─bar = 336
     336
-    "test/test_expect_test.ml":1225:6: (r1, r2)
-    ├─"test/test_expect_test.ml":1220:10-1223:35: baz
+    "test/test_expect_test.ml":1235:6: (r1, r2)
+    ├─"test/test_expect_test.ml":1230:10-1233:35: baz
     │ ├─first = 7
     │ ├─second = 42
-    │ ├─"test/test_expect_test.ml":1221:8: (y, z)
+    │ ├─"test/test_expect_test.ml":1231:8: (y, z)
     │ │ ├─y = 8
     │ │ └─z = 3
-    │ ├─"test/test_expect_test.ml":1222:8: (a, b)
+    │ ├─"test/test_expect_test.ml":1232:8: (a, b)
     │ │ ├─a = 8
     │ │ └─b = 45
     │ └─baz = (339, 109)
@@ -1278,23 +1278,23 @@ let%expect_test "%debug_show PrintBox to stdout records values_first_mode" =
     {|
       BEGIN DEBUG SESSION
       bar = 336
-      ├─"test/test_expect_test.ml":1256:21-1259:15
+      ├─"test/test_expect_test.ml":1266:21-1269:15
       ├─first = 7
       ├─second = 42
       ├─{first=a; second=b}
-      │ ├─"test/test_expect_test.ml":1257:8
+      │ ├─"test/test_expect_test.ml":1267:8
       │ └─<values>
       │   ├─a = 7
       │   └─b = 45
       └─y = 8
-        └─"test/test_expect_test.ml":1258:8
+        └─"test/test_expect_test.ml":1268:8
       336
       baz = 109
-      ├─"test/test_expect_test.ml":1262:10-1264:28
+      ├─"test/test_expect_test.ml":1272:10-1274:28
       ├─first = 7
       ├─second = 42
       └─{first; second}
-        ├─"test/test_expect_test.ml":1263:8
+        ├─"test/test_expect_test.ml":1273:8
         └─<values>
           ├─first = 8
           └─second = 45
@@ -1319,28 +1319,28 @@ let%expect_test "%debug_show PrintBox to stdout tuples values_first_mode" =
     {|
     BEGIN DEBUG SESSION
     bar = 336
-    ├─"test/test_expect_test.ml":1295:21-1297:14
+    ├─"test/test_expect_test.ml":1305:21-1307:14
     ├─first = 7
     ├─second = 42
     └─y = 8
-      └─"test/test_expect_test.ml":1296:8
+      └─"test/test_expect_test.ml":1306:8
     336
     (r1, r2)
-    ├─"test/test_expect_test.ml":1305:6
+    ├─"test/test_expect_test.ml":1315:6
     ├─<values>
     │ ├─r1 = 339
     │ └─r2 = 109
     └─baz = (339, 109)
-      ├─"test/test_expect_test.ml":1300:10-1303:35
+      ├─"test/test_expect_test.ml":1310:10-1313:35
       ├─first = 7
       ├─second = 42
       ├─(y, z)
-      │ ├─"test/test_expect_test.ml":1301:8
+      │ ├─"test/test_expect_test.ml":1311:8
       │ └─<values>
       │   ├─y = 8
       │   └─z = 3
       └─(a, b)
-        ├─"test/test_expect_test.ml":1302:8
+        ├─"test/test_expect_test.ml":1312:8
         └─<values>
           ├─a = 8
           └─b = 45
@@ -1373,23 +1373,23 @@ let%expect_test "%debug_show PrintBox to stdout variants values_first_mode" =
     {|
       BEGIN DEBUG SESSION
       bar = 16
-      ├─"test/test_expect_test.ml":1346:21-1348:9
+      ├─"test/test_expect_test.ml":1356:21-1358:9
       ├─x = 7
       └─y = 8
-        └─"test/test_expect_test.ml":1347:8
+        └─"test/test_expect_test.ml":1357:8
       16
       baz = 5
-      ├─"test/test_expect_test.ml":1352:24-1352:29
+      ├─"test/test_expect_test.ml":1362:24-1362:29
       └─x = 4
       5
       baz = 6
-      ├─"test/test_expect_test.ml":1353:31-1353:36
+      ├─"test/test_expect_test.ml":1363:31-1363:36
       └─y = 3
       6
       foo = 3
-      ├─"test/test_expect_test.ml":1356:10-1357:82
+      ├─"test/test_expect_test.ml":1366:10-1367:82
       └─<match -- branch 2>
-        └─"test/test_expect_test.ml":1357:81-1357:82
+        └─"test/test_expect_test.ml":1367:81-1367:82
       3 |}]
 
 let%expect_test "%debug_show PrintBox to stdout tuples merge type info" =
@@ -1407,21 +1407,21 @@ let%expect_test "%debug_show PrintBox to stdout tuples merge type info" =
     {|
     BEGIN DEBUG SESSION
     (r1, r2)
-    ├─"test/test_expect_test.ml":1392:6
+    ├─"test/test_expect_test.ml":1402:6
     ├─<values>
     │ ├─r1 = 339
     │ └─r2 = 109
     └─baz = (339, 109)
-      ├─"test/test_expect_test.ml":1387:21-1390:35
+      ├─"test/test_expect_test.ml":1397:21-1400:35
       ├─first = 7
       ├─second = 42
       ├─(y, z)
-      │ ├─"test/test_expect_test.ml":1388:8
+      │ ├─"test/test_expect_test.ml":1398:8
       │ └─<values>
       │   ├─y = 8
       │   └─z = 3
       └─(a, b)
-        ├─"test/test_expect_test.ml":1389:8
+        ├─"test/test_expect_test.ml":1399:8
         └─<values>
           └─a = 8
     339
@@ -1437,10 +1437,10 @@ let%expect_test "%debug_show PrintBox to stdout decompose multi-argument functio
     {|
     BEGIN DEBUG SESSION
     f = 7
-    ├─"test/test_expect_test.ml":1422:44-1422:61
+    ├─"test/test_expect_test.ml":1432:44-1432:61
     └─b = 6
     7
     g = 12
-    ├─"test/test_expect_test.ml":1423:56-1423:79
+    ├─"test/test_expect_test.ml":1433:56-1433:79
     └─b = 6
     12 |}]
Raised exception.
Raised exception.
File "test/debugger_show_interrupts.expected.log", line 1, characters 0-0:
diff --git a/_build/default/test/debugger_show_interrupts.expected.log b/_build/default/test/debugger_show_interrupts.log
index 2c49839..0ef7a3d 100644
--- a/_build/default/test/debugger_show_interrupts.expected.log
+++ b/_build/default/test/debugger_show_interrupts.log
@@ -1,2 +1,72 @@
 
 BEGIN DEBUG SESSION
+loop_exceeded begin "test/test_debug_interrupts.ml":7:33-9:55
+ x = 17
+  "test/test_debug_interrupts.ml":8:6: z
+  z = 8
+ loop_exceeded begin "test/test_debug_interrupts.ml":7:33-9:55
+  x = 16
+   "test/test_debug_interrupts.ml":8:6: z
+   z = 7
+  loop_exceeded begin "test/test_debug_interrupts.ml":7:33-9:55
+   x = 15
+    "test/test_debug_interrupts.ml":8:6: z
+    z = 7
+   loop_exceeded begin "test/test_debug_interrupts.ml":7:33-9:55
+    x = 14
+     "test/test_debug_interrupts.ml":8:6: z
+     z = 6
+    loop_exceeded begin "test/test_debug_interrupts.ml":7:33-9:55
+     x = 13
+      "test/test_debug_interrupts.ml":8:6: z
+      z = <max_nesting_depth exceeded>
+    loop_exceeded end
+   loop_exceeded end
+  loop_exceeded end
+ loop_exceeded end
+loop_exceeded end
+bar begin "test/test_debug_interrupts.ml":15:19-19:6
+  "test/test_debug_interrupts.ml":16:2: <for loop>
+  i = 0
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 0
+  i = 1
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 2
+  i = 2
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 4
+  i = 3
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 6
+  i = 4
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 8
+  i = 5
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 10
+  i = 6
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 12
+  i = 7
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 14
+  i = 8
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 16
+  i = 9
+   "test/test_debug_interrupts.ml":16:6: <for i>
+    "test/test_debug_interrupts.ml":17:8: _baz
+    _baz = 18
+  i = 10
+  i = <max_num_children exceeded>
+bar end
